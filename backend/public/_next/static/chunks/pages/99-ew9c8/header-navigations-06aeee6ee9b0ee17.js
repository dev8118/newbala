(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{87109:function(e,t,s){"use strict";s.d(t,{Z:function(){return w}});var a,n=s(63366),i=s(87462),l=s(67294),r=s(86010),o=s(94780),c=s(98216),d=s(15861),u=s(47167),h=s(74423),x=s(90948),m=s(1588),Z=s(34867);function j(e){return(0,Z.Z)("MuiInputAdornment",e)}let v=(0,m.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var p=s(71657),g=s(85893);let f=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(e,t)=>{let{ownerState:s}=e;return[t.root,t[`position${(0,c.Z)(s.position)}`],!0===s.disablePointerEvents&&t.disablePointerEvents,t[s.variant]]},S=e=>{let{classes:t,disablePointerEvents:s,hiddenLabel:a,position:n,size:i,variant:l}=e,r={root:["root",s&&"disablePointerEvents",n&&`position${(0,c.Z)(n)}`,l,a&&"hiddenLabel",i&&`size${(0,c.Z)(i)}`]};return(0,o.Z)(r,j,t)},y=(0,x.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:b})(({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${v.positionStart}&:not(.${v.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),C=l.forwardRef(function(e,t){let s=(0,p.Z)({props:e,name:"MuiInputAdornment"}),{children:o,className:c,component:x="div",disablePointerEvents:m=!1,disableTypography:Z=!1,position:j,variant:v}=s,b=(0,n.Z)(s,f),C=(0,h.Z)()||{},w=v;v&&C.variant,C&&!w&&(w=C.variant);let z=(0,i.Z)({},s,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:m,position:j,variant:w}),A=S(z);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(y,(0,i.Z)({as:x,ownerState:z,className:(0,r.Z)(A.root,c),ref:t},b,{children:"string"!=typeof o||Z?(0,g.jsxs)(l.Fragment,{children:["start"===j?a||(a=(0,g.jsx)("span",{className:"notranslate",children:"​"})):null,o]}):(0,g.jsx)(d.Z,{color:"text.secondary",children:o})}))})});var w=C},71380:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/99-ew9c8/header-navigations",function(){return s(20952)}])},39070:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(85893);s(67294);var n=s(98396),i=s(12937);let l=()=>[{title:"الأقسام",path:"/99-ew9c8/categories",icon:"material-symbols:category"},{title:"الأخبار",path:"/99-ew9c8/posts",icon:"bx:news"},{title:"خدمات",path:"/99-ew9c8/services",icon:"eos-icons:service"},{title:"ادارة القائمة الرئيسية",path:"/99-ew9c8/header-navigations",icon:"subway:menu"},{title:"ادارة  القائمة بالاسفل",path:"/99-ew9c8/footer-navigations",icon:"subway:menu"},{title:"مركز الاتصالات",path:"/99-ew9c8/contacts",icon:"bx:chat"},{title:"الاعدادات",path:"/99-ew9c8/setting",icon:"tabler:settings"}];var r=s(23664),o=s(29375),c=s(21958),d=s(28756);let u=e=>{let{children:t,contentHeightFixed:s}=e,{settings:u,saveSettings:h}=(0,d.r)(),x=(0,n.Z)(e=>e.breakpoints.down("lg"));return x&&"horizontal"===u.layout&&(u.layout="vertical"),(0,a.jsx)(i.Z,{hidden:x,settings:u,saveSettings:h,contentHeightFixed:s,verticalLayoutProps:{navMenu:{navItems:l()},appBar:{content:e=>(0,a.jsx)(o.Z,{hidden:x,settings:u,saveSettings:h,toggleNavVisibility:e.toggleNavVisibility})}},..."horizontal"===u.layout&&{horizontalLayoutProps:{navMenu:{navItems:(0,r.Z)()},appBar:{content:()=>(0,a.jsx)(c.Z,{settings:u,saveSettings:h})}}},children:t})};var h=u},20952:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(85893),n=s(67294),i=s(87357),l=s(34386),r=s(83321),o=s(66242),c=s(78445),d=s(15861),u=s(61903),h=s(93946),x=s(67720),m=s(62303),Z=s(79878),j=s(39070),v=s(50657),p=s(37645),g=s(6514),f=s(94054),b=s(33841),S=s(18360),y=s(18972),C=s(72890),w=s(50480),z=s(49033),A=s(87109),E=s(31425),_=s(98456),P=s(9134),W=s(51566);let k=e=>{let{open:t,categories:s,onSuccess:l,onClose:o}=e,[c,x]=(0,n.useState)(!1),[m,j]=(0,n.useState)(""),[k,M]=(0,n.useState)("static"),[I,N]=(0,n.useState)(!1),[L,T]=(0,n.useState)(""),[R,H]=(0,n.useState)("home"),[$,D]=(0,n.useState)("");(0,n.useEffect)(()=>{t&&(j(""),M("static"),T(s.length?s[0]._id:""),H("home"),D(""))},[t]);let F=async()=>{if(""===m.trim())P.Am.error("رجاء أدخل اسم القائمة");else if("static"===k&&"true"==I&&""===$.trim())P.Am.error("رجاء ادخل رابط القائمة");else if("static"===k&&"false"==I&&""===R.trim())P.Am.error("الرجاء اختيار صفحة محلية.");else if("category"===k&&""===L.trim())P.Am.error("اختيار القائمة");else try{x(!0);let{data:e}=await W.Z.post("/admin/header-navigations",{name:m,type:k,isExternal:"true"==I,page:R,url:$,category:L});e.status?(P.Am.success(e.msg),l(),setTimeout(()=>o(),500)):P.Am.error(e.msg)}catch(e){P.Am.error(e.message)}finally{setTimeout(()=>x(!1),500)}};return(0,a.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:o,sx:{"& .MuiDialog-paper":{overflow:"visible"}},children:[(0,a.jsxs)(p.Z,{sx:{p:4},children:[(0,a.jsx)(d.Z,{variant:"h5",component:"span",children:"اضافة قائمة جديدة"}),(0,a.jsx)(h.Z,{sx:{position:"absolute",top:9,right:9},onClick:o,children:(0,a.jsx)(Z.Z,{icon:"tabler:x",fontSize:"1.25rem"})})]}),(0,a.jsxs)(g.Z,{dividers:!0,children:[(0,a.jsx)(f.Z,{fullWidth:!0,sx:{mb:5},children:(0,a.jsx)(u.Z,{label:"اسم",size:"small",value:m,onChange:e=>j(e.target.value)})}),(0,a.jsxs)(f.Z,{fullWidth:!0,sx:{mb:"static"===k?0:5},children:[(0,a.jsx)(b.Z,{size:"small",children:"نوع القائمة"}),(0,a.jsxs)(S.Z,{label:"نوع القائمة",size:"small",value:k,onChange:e=>M(e.target.value),children:[(0,a.jsx)(y.Z,{value:"static",children:"ثابت"}),(0,a.jsx)(y.Z,{value:"category",children:"القسم"})]})]}),"static"===k?(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(C.Z,{row:!0,value:I,onChange:e=>N(e.target.value),children:[(0,a.jsx)(w.Z,{value:!1,control:(0,a.jsx)(z.Z,{}),label:"محلي"}),(0,a.jsx)(w.Z,{value:!0,control:(0,a.jsx)(z.Z,{}),label:"خارجي"})]}),"true"==I?(0,a.jsx)(f.Z,{fullWidth:!0,dir:"ltr",children:(0,a.jsx)(u.Z,{size:"small",label:"رابط",InputProps:{startAdornment:(0,a.jsx)(A.Z,{position:"start",children:"https://"})},value:$,onChange:e=>D(e.target.value)})}):(0,a.jsxs)(f.Z,{fullWidth:!0,children:[(0,a.jsx)(b.Z,{size:"small",children:"نوع"}),(0,a.jsxs)(S.Z,{label:"نوع",size:"small",value:R,onChange:e=>H(e.target.value),children:[(0,a.jsx)(y.Z,{value:"home",children:"الصفحة الرئيسية"}),(0,a.jsx)(y.Z,{value:"section",children:"القسم"}),(0,a.jsx)(y.Z,{value:"online-payments",children:"خدمات الدفع الالكتروني"}),(0,a.jsx)(y.Z,{value:"contact-us",children:"اتصل بنا"})]})]})]}):(0,a.jsxs)(f.Z,{fullWidth:!0,children:[(0,a.jsx)(b.Z,{size:"small",children:"القسم"}),(0,a.jsx)(S.Z,{label:"القسم",size:"small",value:L,onChange:e=>T(e.target.value),children:s.map((e,t)=>(0,a.jsx)(y.Z,{value:e._id,children:e.name},t))})]})]}),(0,a.jsxs)(E.Z,{sx:{p:"1rem !important"},children:[(0,a.jsx)(r.Z,{variant:"contained",color:"primary",disabled:c,startIcon:c&&(0,a.jsx)(_.Z,{color:"inherit",size:16}),onClick:F,children:"إنشاء"}),(0,a.jsx)(r.Z,{variant:"contained",color:"error",onClick:o,children:"إلغاء"})]})]})},M=e=>{let{open:t,categories:s,navigation:l,onSuccess:o,onClose:c}=e,[x,m]=(0,n.useState)(!1),[j,k]=(0,n.useState)(""),[M,I]=(0,n.useState)("static"),[N,L]=(0,n.useState)(!1),[T,R]=(0,n.useState)(""),[H,$]=(0,n.useState)("home"),[D,F]=(0,n.useState)("");(0,n.useEffect)(()=>{t&&(k(l.name),I(l.type),R(l.category?l.category:""),$(l.page?l.page:""),F(l.url?l.url:""))},[t]);let O=async()=>{if(""===j.trim())P.Am.error("رجاء أدخل اسم القائمة");else if("static"===M&&"true"==N&&""===D.trim())P.Am.error("رجاء ادخل رابط القائمة");else if("static"===M&&"false"==N&&""===H.trim())P.Am.error("الرجاء اختيار صفحة محلية.");else if("category"===M&&""===T.trim())P.Am.error("اختيار القائمة");else try{m(!0);let e=l._id,{data:t}=await W.Z.put("/admin/header-navigations/".concat(e),{name:j,type:M,isExternal:"true"==N,page:H,url:D,category:T});t.status?(P.Am.success(t.msg),o(),setTimeout(()=>c(),500)):P.Am.error(t.msg)}catch(e){P.Am.error(e.message)}finally{setTimeout(()=>m(!1),500)}};return(0,a.jsxs)(v.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:c,sx:{"& .MuiDialog-paper":{overflow:"visible"}},children:[(0,a.jsxs)(p.Z,{sx:{p:4},children:[(0,a.jsx)(d.Z,{variant:"h5",component:"span",children:"نعديل القائمة"}),(0,a.jsx)(h.Z,{sx:{position:"absolute",top:9,right:9},onClick:c,children:(0,a.jsx)(Z.Z,{icon:"tabler:x",fontSize:"1.25rem"})})]}),(0,a.jsxs)(g.Z,{dividers:!0,children:[(0,a.jsx)(f.Z,{fullWidth:!0,sx:{mb:5},children:(0,a.jsx)(u.Z,{label:"اسم",size:"small",value:j,onChange:e=>k(e.target.value)})}),(0,a.jsxs)(f.Z,{fullWidth:!0,sx:{mb:"static"===M?0:5},children:[(0,a.jsx)(b.Z,{size:"small",children:"نوع القائمة"}),(0,a.jsxs)(S.Z,{label:"نوع القائمة",size:"small",value:M,onChange:e=>I(e.target.value),children:[(0,a.jsx)(y.Z,{value:"static",children:"ثابت"}),(0,a.jsx)(y.Z,{value:"category",children:"القسم"})]})]}),"static"===M?(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(C.Z,{row:!0,value:N,onChange:e=>L(e.target.value),children:[(0,a.jsx)(w.Z,{value:!1,control:(0,a.jsx)(z.Z,{}),label:"محلي"}),(0,a.jsx)(w.Z,{value:!0,control:(0,a.jsx)(z.Z,{}),label:"خارجي"})]}),"true"==N?(0,a.jsx)(f.Z,{fullWidth:!0,dir:"ltr",children:(0,a.jsx)(u.Z,{size:"small",label:"رابط",InputProps:{startAdornment:(0,a.jsx)(A.Z,{position:"start",children:"https://"})},value:D,onChange:e=>F(e.target.value)})}):(0,a.jsxs)(f.Z,{fullWidth:!0,children:[(0,a.jsx)(b.Z,{size:"small",children:"نوع"}),(0,a.jsxs)(S.Z,{label:"نوع",size:"small",value:H,onChange:e=>$(e.target.value),children:[(0,a.jsx)(y.Z,{value:"home",children:"الصفحة الرئيسية"}),(0,a.jsx)(y.Z,{value:"section",children:"القسم"}),(0,a.jsx)(y.Z,{value:"online-payments",children:"خدمات الدفع الالكتروني"}),(0,a.jsx)(y.Z,{value:"contact-us",children:"اتصل بنا"})]})]})]}):(0,a.jsxs)(f.Z,{fullWidth:!0,children:[(0,a.jsx)(b.Z,{size:"small",children:"القسم"}),(0,a.jsx)(S.Z,{label:"القسم",size:"small",value:T,onChange:e=>R(e.target.value),children:s.map((e,t)=>(0,a.jsx)(y.Z,{value:e._id,children:e.name},t))})]})]}),(0,a.jsxs)(E.Z,{sx:{p:"1rem !important"},children:[(0,a.jsx)(r.Z,{variant:"contained",color:"primary",disabled:x,startIcon:x&&(0,a.jsx)(_.Z,{color:"inherit",size:16}),onClick:O,children:"تحديث"}),(0,a.jsx)(r.Z,{variant:"contained",color:"error",onClick:c,children:"إلغاء"})]})]})};var I=s(58951);let N=e=>{let{open:t,navigation:s,onSuccess:i,onClose:l}=e,[o,c]=(0,n.useState)(!1),u=async()=>{try{let e=s._id,{data:t}=await W.Z.delete("/admin/header-navigations/".concat(e));t.status?(P.Am.success(t.msg),i(),l()):P.Am.error(t.msg)}catch(e){P.Am.error(e.message)}finally{setTimeout(()=>c(!1),500)}};return(0,a.jsxs)(v.Z,{open:t,onClose:l,children:[(0,a.jsx)(p.Z,{children:(0,a.jsx)(d.Z,{variant:"h5",children:"يرجى تأكيد حذف القائمة?"})}),(0,a.jsx)(g.Z,{children:(0,a.jsx)(I.Z,{children:"ننوه بعد حذف القائمة لا يمكنك الرجوع لاحقا عن هذا الأمر"})}),(0,a.jsxs)(E.Z,{className:"dialog-actions-dense",children:[(0,a.jsxs)(r.Z,{variant:"contained",disabled:o,onClick:u,children:[o&&(0,a.jsx)(_.Z,{color:"secondary",size:18,sx:{mr:2}})," حذف"]}),(0,a.jsx)(r.Z,{variant:"contained",color:"error",onClick:l,children:"إلغاء"})]})]})},L=()=>{let[e,t]=(0,n.useState)(""),[s,j]=(0,n.useState)(),[v,p]=(0,n.useState)([]),[g,f]=(0,n.useState)({}),[b,S]=(0,n.useState)({page:0,pageSize:10}),[y,C]=(0,n.useState)(!1),[w,z]=(0,n.useState)(!1),[A,E]=(0,n.useState)(!1),[_,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{L()},[y,e]),(0,n.useEffect)(()=>{I()},[]);let I=async()=>{let{data:e}=await W.Z.get("/admin/categories");j(e)},L=async()=>{let{data:t}=await W.Z.get("/admin/header-navigations",{params:{search:e}});p(t)},T=(e,t)=>{e.stopPropagation(),f(t),E(!0)},R=(e,t)=>{e.stopPropagation(),f(t),P(!0)};return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(c.Z,{title:(0,a.jsx)(d.Z,{variant:"h4",children:"ادارة القائمة الرئيسة"}),action:(0,a.jsxs)(i.Z,{sx:{display:"flex",gap:3},children:[(0,a.jsx)(u.Z,{size:"small",placeholder:"البحث",value:e,onChange:e=>t(e.target.value),InputProps:{startAdornment:(0,a.jsx)(i.Z,{sx:{mr:2,display:"flex"},children:(0,a.jsx)(Z.Z,{fontSize:"1.25rem",icon:"tabler:search"})}),endAdornment:(0,a.jsx)(h.Z,{size:"small",title:"Clear","aria-label":"Clear",onClick:()=>t(""),children:(0,a.jsx)(Z.Z,{fontSize:"1.25rem",icon:"tabler:x"})})}}),(0,a.jsx)(r.Z,{variant:"contained",startIcon:(0,a.jsx)(Z.Z,{icon:"mdi:plus"}),onClick:()=>z(!0),children:"قائمة جديدة"})]})}),(0,a.jsx)(x.Z,{}),(0,a.jsx)(m._,{autoHeight:!0,rowHeight:60,getRowId:e=>e._id,columns:[{flex:1,maxWidth:250,field:"name",headerName:"عنوان",renderCell:e=>{let{row:t}=e;return t.name}},{flex:1,field:"url",headerName:"رابط",renderCell:e=>{let{row:t}=e;return"static"==t.type?(0,a.jsx)(i.Z,{dir:"ltr",children:t.isExternal?t.url:"/".concat(t.page)}):(0,a.jsxs)(i.Z,{dir:"ltr",children:["/categories/",t.category]})}},{flex:1,maxWidth:110,field:"action",headerName:"الإجراء",renderCell:e=>{let{row:t}=e;return(0,a.jsxs)(i.Z,{sx:{display:"flex",gap:2},children:[(0,a.jsx)(l.Z,{title:"edit",children:(0,a.jsx)(r.Z,{variant:"contained",size:"small",sx:{minWidth:35,px:0},onClick:e=>T(e,t),children:(0,a.jsx)(Z.Z,{icon:"tabler:edit"})})}),(0,a.jsx)(l.Z,{title:"delete",children:(0,a.jsx)(r.Z,{variant:"contained",color:"error",size:"small",sx:{minWidth:35,px:0},onClick:e=>R(e,t),children:(0,a.jsx)(Z.Z,{icon:"tabler:trash"})})})]})}}],rows:v,localeText:{noRowsLabel:"لا توجد بيانات",footerTotalRows:"إجمالي الصفوف:",columnMenuFilter:"منقي",columnMenuHideColumn:"إخفاء العمود",columnMenuManageColumns:"إدارة الأعمدة",columnMenuSortAsc:"الترتيب حسب تصاعدي",columnMenuSortDesc:"الترتيب تنازلياً",footerRowSelected:e=>"".concat(e.toLocaleString()," الصفوف المحددة"),footerTotalVisibleRows:(e,t)=>"".concat(e.toLocaleString()," من ").concat(t.toLocaleString())},pageSizeOptions:[10,20,50],paginationModel:b,onPaginationModelChange:S}),(0,a.jsx)(k,{open:w,categories:s,onSuccess:()=>C(!y),onClose:()=>z(!1)}),(0,a.jsx)(M,{open:A,categories:s,navigation:g,onSuccess:()=>C(!y),onClose:()=>E(!1)}),(0,a.jsx)(N,{open:_,navigation:g,onSuccess:()=>C(!y),onClose:()=>P(!1)})]})};L.getLayout=e=>(0,a.jsx)(j.Z,{children:e}),L.authGuard=!0;var T=L}},function(e){e.O(0,[903,765,774,888,179],function(){return e(e.s=71380)}),_N_E=e.O()}]);